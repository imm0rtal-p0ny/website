{% include 'base/base.html' %}
{% block title %}
    <title>Board list</title>
{% endblock %}
{% block content %}

<form method="get">
    {{search_form.as_p}}
    <a href="{% url 'create_board' %}">
        Create
    </a>
    <button type="submit">Search</button>
</form>
<form method="get">
    {{filter_form.as_p}}
    <button type="submit">Apply</button>
</form>
    <a href="{% url 'create_board' %}">
            Create
    </a>
    <a href={{clear_url}}>
        <button>Clear</button>
    </a>
    <hr>
{% if not object_list %}
    <h2>None</h2>
{% endif %}
{% for board in object_list %}

{% if board.status.name == 'Public' or user == board.user%}

    <a href="{% url 'board' pk=board.pk%}">
        <img src="{{board.photo_mini.url}}" alt="{{board.name}}" width="100" height="100">
        <h3>{{board}}</h3>
        <p>{{board.description}}</p>
    </a>

        {% if user == board.user %}
            <h4>Status:</h4>
            <p>{{board.status}}</p>

            <a href="{% url 'delete_board' pk=board.pk%}">
                <button>Delete</button>
            </a>
            <a href="{% url 'update_board' pk=board.pk%}">
                <button>Update</button>
            </a>
        {% endif %}

    <hr>
{% endif %}
{% endfor %}

<div class="pagination">
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}

  <span class="current-page">{{ page_obj.number }}</span>

  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}">Next</a>
  {% endif %}
</div>


{% endblock %}


